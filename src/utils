#!/usr/bin/env bash

values=$HOME/.local/share/ytw/values

duration(){
	for i in {1..10}
	do
		dur=$(cat $values | jq .videos[$i].duration | sed 's/"//g')
		echo $dur
	done
}

list(){
	for i in {1..10}
	do
		list=$(cat $values | jq .videos[$i].title | sed 's/"//g')
		echo $list
	done
}

thumbnails(){
	for i in {1..10}
	do
		thumbs=$(cat $values | jq .videos[$i].thumbnails | sed 's/"//g' )
		echo $thumbs
	done
}

title_icon(){
	for i in {1..10}
	do
		titles=$(cat $values | jq .videos[$i].title | sed 's/"//g' | sed 's/^/  /')
		echo $titles
	done
}

cleaner_title(){
	for i in {1..10}
	do
		clean_title=$(cat $values | jq .videos[$i].title | sed 's/"//g' | sed 's/Official//Ig' | sed 's/Music//Ig' | sed 's/Video//Ig' | sed 's/(//g' | sed 's/)//g' | sed 's/Visualizer//Ig' | sed 's/  //g' | sed 's/HD//Ig' | sed 's/^/ /' )
		echo $clean_title
	done
}

case $1 in
	# get the whole title
	-t)
		title_icon
		;;
	-c)
		cleaner_title
		;;
	-i)
		thumbnails
		;;
	-d)
		duration
		;;
	-l)
		list
		;;
esac

for i in {0..9}
do
	# duration of the video in min:sec
	dur=$(cat $values | jq .videos[$i].duration | sed 's/"//g')

	list=$(cat $values | jq .videos[$i].title | sed 's/"//g')

	echo -e '  '$dur'    '$list | sed 's/^/ /'
done
